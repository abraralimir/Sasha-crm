/**
 * @file Firestore Security Rules for SashaLeads AI
 * @core_philosophy This ruleset is in prototyping mode.  It allows unauthenticated access to all data to bypass authorization errors and permit rapid iteration on the application.  This is NOT suitable for production and MUST be changed before deployment.
 * @data_structure The data is organized into collections for users, messages, leads, and tasks.
 * @key_security_decisions Unauthenticated read and write access is granted to all collections. This is a deliberate choice for prototyping only.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Rules for the /users collection. In prototyping mode, all access is allowed.
     * @path /users/{userId}
     * @allow (read, write) Any unauthenticated user can read or write any user document.
     * @deny (none) No requests are denied in this prototyping mode.
     * @principle Unauthenticated access for prototyping purposes ONLY.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Rules for the /messages collection. In prototyping mode, all access is allowed.
     * @path /messages/{messageId}
     * @allow (read, write) Any unauthenticated user can read or write any message document.
     * @deny (none) No requests are denied in this prototyping mode.
     * @principle Unauthenticated access for prototyping purposes ONLY.
     */
    match /messages/{messageId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Rules for the /leads collection. In prototyping mode, all access is allowed.
     * @path /leads/{leadId}
     * @allow (read, write) Any unauthenticated user can read or write any lead document.
     * @deny (none) No requests are denied in this prototyping mode.
     * @principle Unauthenticated access for prototyping purposes ONLY.
     */
    match /leads/{leadId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Rules for the /tasks collection. In prototyping mode, all access is allowed.
     * @path /tasks/{taskId}
     * @allow (read, write) Any unauthenticated user can read or write any task document.
     * @deny (none) No requests are denied in this prototyping mode.
     * @principle Unauthenticated access for prototyping purposes ONLY.
     */
    match /tasks/{taskId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}